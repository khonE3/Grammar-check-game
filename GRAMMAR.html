<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Grammar Galaxy</title>
		<link
			href="https://cdn.jsdelivr.net/npm/daisyui@4.4.12/dist/full.css"
			rel="stylesheet"
			type="text/css"
		/>
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700&display=swap"
			rel="stylesheet"
		/>
		<script>
			tailwind.config = {
				theme: {
					extend: {
						fontFamily: {
							exo: ["Exo 2", "sans-serif"],
						},
						colors: {
							primary: "#4d83ff",
							secondary: "#00d4ff",
							space: "#0c1445",
							neon: "#00f7ff",
						},
					},
				},
			};
		</script>
		<style>
			body {
				font-family: "Exo 2", sans-serif;
				background-color: #0c1445;
				overflow: hidden;
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				position: relative;
			}
			
			/* Space background */
			.space-background {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: -2;
				background: linear-gradient(125deg, #090d2a, #170b47, #0f0933);
				animation: space-shift 30s ease infinite alternate;
			}
			
			@keyframes space-shift {
				0% { background-position: 0% 50%; }
				50% { background-position: 100% 50%; }
				100% { background-position: 0% 50%; }
			}
			
			/* Stars */
			.stars {
				position: fixed;
				width: 100%;
				height: 100%;
				z-index: -1;
				overflow: hidden;
			}
			
			.star {
				position: absolute;
				background-color: white;
				border-radius: 50%;
				animation: twinkle var(--twinkle-duration) ease-in-out infinite;
				opacity: var(--twinkle-opacity);
			}
			
			@keyframes twinkle {
				0%, 100% { opacity: var(--twinkle-opacity); transform: scale(1); }
				50% { opacity: 1; transform: scale(1.2); }
			}
			
			/* Shooting stars */
			.shooting-star {
				position: absolute;
				width: 100px;
				height: 2px;
				background: linear-gradient(to right, transparent, #ffffff, #4d83ff, transparent);
				animation: shooting var(--shooting-duration) linear infinite;
				animation-delay: var(--shooting-delay);
				transform: rotate(var(--shooting-angle));
				opacity: 0;
				z-index: -1;
			}
			
			@keyframes shooting {
				0% {
					opacity: 0;
					transform: translateX(-100px) rotate(var(--shooting-angle));
				}
				10%, 40% {
					opacity: 1;
				}
				100% {
					opacity: 0;
					transform: translateX(calc(100vw + 100px)) rotate(var(--shooting-angle));
				}
			}
			
			.grid-effect {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: 
					linear-gradient(rgba(77, 131, 255, 0.05) 1px, transparent 1px),
					linear-gradient(90deg, rgba(77, 131, 255, 0.05) 1px, transparent 1px);
				background-size: 30px 30px;
				z-index: -1;
				perspective: 500px;
				animation: grid-move 20s linear infinite;
			}
			
			@keyframes grid-move {
				0% {
					background-position: 0 0;
				}
				100% {
					background-position: 30px 30px;
				}
			}

			.option-btn {
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
				border: 1px solid rgba(0, 212, 255, 0.3);
				background: rgba(12, 20, 69, 0.7);
				backdrop-filter: blur(5px);
				box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
			}

			.option-btn::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(
					90deg,
					transparent,
					rgba(77, 131, 255, 0.3),
					transparent
				);
				transition: 0.5s;
			}

			.option-btn:hover {
				transform: translateY(-3px);
				border-color: rgba(0, 212, 255, 0.8);
				box-shadow: 0 6px 15px rgba(0, 212, 255, 0.3), 0 0 8px rgba(0, 212, 255, 0.5);
			}

			.option-btn:hover::before {
				left: 100%;
			}

			.progress-container {
				width: 100%;
				background-color: rgba(255, 255, 255, 0.1);
				border-radius: 999px;
				overflow: hidden;
				box-shadow: 0 0 10px rgba(0, 212, 255, 0.3) inset;
				position: relative;
			}

			.progress-bar {
				height: 8px;
				background: linear-gradient(90deg, #4d83ff, #00d4ff);
				border-radius: 999px;
				transition: width 0.8s cubic-bezier(0.25, 1, 0.5, 1);
				box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
				position: relative;
			}
			
			.progress-bar::after {
				content: '';
				position: absolute;
				top: 0;
				right: 0;
				height: 100%;
				width: 15px;
				background: rgba(255, 255, 255, 0.7);
				border-radius: 10px;
				filter: blur(3px);
				animation: pulse 1.5s infinite;
			}
			
			@keyframes pulse {
				0%, 100% { opacity: 0.7; }
				50% { opacity: 0.3; }
			}

			.card {
				background: rgba(18, 25, 63, 0.85);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(77, 131, 255, 0.3);
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(77, 131, 255, 0.3);
				animation: float 6s ease-in-out infinite;
				transform-style: preserve-3d;
			}
			
			@keyframes float {
				0%, 100% { transform: translateY(0); }
				50% { transform: translateY(-10px); }
			}

			.correct {
				background: rgba(5, 122, 85, 0.8);
				border: 1px solid rgba(72, 255, 144, 0.9);
				color: white;
				box-shadow: 0 0 15px rgba(72, 255, 144, 0.5);
				animation: correct-pulse 1s ease;
			}
			
			@keyframes correct-pulse {
				0% { transform: scale(1); }
				50% { transform: scale(1.05); }
				100% { transform: scale(1); }
			}

			.incorrect {
				background: rgba(176, 42, 55, 0.8);
				border: 1px solid rgba(255, 101, 101, 0.9);
				color: white;
				box-shadow: 0 0 15px rgba(255, 101, 101, 0.5);
				animation: incorrect-shake 0.5s ease;
			}
			
			@keyframes incorrect-shake {
				0%, 100% { transform: translateX(0); }
				20%, 60% { transform: translateX(-5px); }
				40%, 80% { transform: translateX(5px); }
			}

			.btn-primary {
				background: linear-gradient(135deg, #4d83ff, #00d4ff);
				border: none;
				position: relative;
				overflow: hidden;
				transition: all 0.3s ease;
				box-shadow: 0 0 15px rgba(77, 131, 255, 0.5);
			}

			.btn-primary:hover {
				background: linear-gradient(135deg, #3b64c5, #00c0e8);
				transform: translateY(-2px);
				box-shadow: 0 0 20px rgba(77, 131, 255, 0.7);
			}
			
			.btn-primary::after {
				content: '';
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: linear-gradient(rgba(255, 255, 255, 0.2), transparent);
				transform: rotate(45deg);
				transition: all 0.3s ease;
				opacity: 0;
			}
			
			.btn-primary:hover::after {
				opacity: 1;
			}
			
			#questionBox {
				text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
				animation: question-appear 0.5s ease;
			}
			
			@keyframes question-appear {
				0% { opacity: 0; transform: translateY(-10px); }
				100% { opacity: 1; transform: translateY(0); }
			}
			
			#choices button {
				animation: choice-appear 0.5s ease forwards;
				opacity: 0;
			}
			
			#choices button:nth-child(1) { animation-delay: 0.1s; }
			#choices button:nth-child(2) { animation-delay: 0.2s; }
			#choices button:nth-child(3) { animation-delay: 0.3s; }
			#choices button:nth-child(4) { animation-delay: 0.4s; }
			
			@keyframes choice-appear {
				0% { opacity: 0; transform: translateX(-20px); }
				100% { opacity: 1; transform: translateX(0); }
			}
			
			#feedback {
				animation: feedback-appear 0.5s ease;
			}
			
			@keyframes feedback-appear {
				0% { opacity: 0; transform: scale(0.9); }
				100% { opacity: 1; transform: scale(1); }
			}
			
			.glow {
				text-shadow: 0 0 10px currentColor;
				position: relative;
			}
			
			.console-effect::before {
				content: '> ';
				color: #00d4ff;
			}
		</style>
	</head>
	<body class="flex items-center justify-center p-4">
		<div class="space-background"></div>
		<div class="stars" id="stars"></div>
		<div class="grid-effect"></div>
		
		<!-- Shooting stars container -->
		<div id="shootingStars"></div>
		
		<div class="w-full max-w-md card rounded-2xl shadow-xl p-6 space-y-6 text-white" style="z-index: 10;">
			<div class="text-center space-y-2">
				<h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary glow">Grammar Galaxy 🚀</h1>
				<p class="text-sm text-blue-200 console-effect">Choose the correct sentence</p>
			</div>

			<div class="progress-container">
				<div id="progressBar" class="progress-bar" style="width: 0%"></div>
			</div>

			<div id="questionBox" class="text-lg font-semibold text-white mb-2"></div>

			<div id="choices" class="grid gap-4"></div>

			<div id="feedback" class="text-sm min-h-12"></div>

			<div class="flex justify-between items-center">
				<span id="score" class="text-xs text-blue-200">Score: 0</span>
				<button id="nextBtn" class="btn btn-primary btn-sm hidden">Next Question</button>
			</div>

			<div class="text-center mt-4 hidden" id="restartBox">
				<button
					onclick="restartGame()"
					class="btn btn-outline border-neon text-neon hover:bg-neon hover:text-space btn-sm"
				>
					🔄 Play Again
				</button>
			</div>
		</div>

		<script>
			const questions = [
				{
					question: "Which sentence is grammatically correct?",
					choices: [
						"He don't like pizza.",
						"He doesn't likes pizza.",
						"He doesn't like pizza.",
						"He don't likes pizza.",
					],
					answer: "He doesn't like pizza.",
					explanation: "'He' requires 'doesn't' and base verb 'like'.",
				},
				{
					question: "Choose the correct sentence.",
					choices: [
						"She going to the market.",
						"She go to the market.",
						"She goes to the market.",
						"She gone to the market.",
					],
					answer: "She goes to the market.",
					explanation: "'She' uses 'goes' in present simple.",
				},
				{
					question: "Select the correct form:",
					choices: [
						"I has a car.",
						"I have a car.",
						"I having a car.",
						"I had a car now.",
					],
					answer: "I have a car.",
					explanation: "'I' takes 'have' in present simple.",
				},
				{
					question: "Which is correct?",
					choices: [
						"They is happy.",
						"They are happy.",
						"They am happy.",
						"They be happy.",
					],
					answer: "They are happy.",
					explanation: "'They' uses 'are' as the correct verb.",
				},
				{
					question: "Pick the correct sentence:",
					choices: [
						"We was playing football.",
						"We were playing football.",
						"We playing football.",
						"We has played football.",
					],
					answer: "We were playing football.",
					explanation: "'We' uses 'were' in past continuous.",
				},
				{
					question: "Which sentence is right?",
					choices: [
						"He didn't went to school.",
						"He doesn't went to school.",
						"He didn't go to school.",
						"He don't go to school.",
					],
					answer: "He didn't go to school.",
					explanation: "After 'didn't', use base verb 'go'.",
				},
				{
					question: "Choose the correct one:",
					choices: [
						"It's cold, isn't it?",
						"It's cold, isn't he?",
						"It's cold, is it?",
						"It's cold, is he?",
					],
					answer: "It's cold, isn't it?",
					explanation: "Use 'isn't it' for weather/neutral statements.",
				},
				{
					question: "Which is grammatically correct?",
					choices: [
						"Neither of them are ready.",
						"Neither of them is ready.",
						"Neither are them ready.",
						"Neither them is ready.",
					],
					answer: "Neither of them is ready.",
					explanation: "'Neither' takes singular verb 'is'.",
				},
				{
					question: "Choose the best sentence:",
					choices: [
						"She can sings well.",
						"She cans sing well.",
						"She can sing well.",
						"She can singing well.",
					],
					answer: "She can sing well.",
					explanation: "Modal verbs take base verb without -s.",
				},
				{
					question: "Pick the correct sentence:",
					choices: [
						"I am agree with you.",
						"I agree with you.",
						"I agrees with you.",
						"I am agreeing with you.",
					],
					answer: "I agree with you.",
					explanation: "'Agree' is a stative verb, no need for 'am'.",
				},
			];

			const questionBox = document.getElementById("questionBox");
			const choicesDiv = document.getElementById("choices");
			const feedback = document.getElementById("feedback");
			const nextBtn = document.getElementById("nextBtn");
			const scoreDisplay = document.getElementById("score");
			const progressBar = document.getElementById("progressBar");
			const restartBox = document.getElementById("restartBox");
			const starsContainer = document.getElementById("stars");
			const shootingStarsContainer = document.getElementById("shootingStars");

			let score = 0;
			let index = 0;
			
			// Create stars
			function createStars() {
				starsContainer.innerHTML = '';
				const starCount = 150;
				
				for (let i = 0; i < starCount; i++) {
					const star = document.createElement('div');
					star.classList.add('star');
					
					// Random position
					const x = Math.random() * window.innerWidth;
					const y = Math.random() * window.innerHeight;
					
					// Random size
					const size = Math.random() * 2 + 1;
					
					// Random twinkle animation
					const twinkleDuration = Math.random() * 5 + 2 + 's';
					const twinkleOpacity = Math.random() * 0.7 + 0.3;
					
					star.style.left = `${x}px`;
					star.style.top = `${y}px`;
					star.style.width = `${size}px`;
					star.style.height = `${size}px`;
					star.style.setProperty('--twinkle-duration', twinkleDuration);
					star.style.setProperty('--twinkle-opacity', twinkleOpacity);
					
					starsContainer.appendChild(star);
				}
			}
			
			// Create shooting stars
			function createShootingStars() {
				shootingStarsContainer.innerHTML = '';
				const shootingStarCount = 5;
				
				for (let i = 0; i < shootingStarCount; i++) {
					const shootingStar = document.createElement('div');
					shootingStar.classList.add('shooting-star');
					
					// Random position
					const y = Math.random() * window.innerHeight;
					
					// Random angle
					const angle = Math.random() * 20 - 10;
					
					// Random animation duration and delay
					const duration = Math.random() * 3 + 2 + 's';
					const delay = Math.random() * 15 + 's';
					
					shootingStar.style.top = `${y}px`;
					shootingStar.style.setProperty('--shooting-duration', duration);
					shootingStar.style.setProperty('--shooting-delay', delay);
					shootingStar.style.setProperty('--shooting-angle', `${angle}deg`);
					
					shootingStarsContainer.appendChild(shootingStar);
				}
			}

			function showQuestion() {
				const data = questions[index];
				questionBox.textContent = `${index + 1}. ${data.question}`;
				feedback.textContent = "";
				feedback.className = "text-sm min-h-12";
				nextBtn.classList.add("hidden");

				choicesDiv.innerHTML = "";
				data.choices.forEach((choice) => {
					const btn = document.createElement("button");
					btn.textContent = choice;
					btn.className =
						"btn option-btn btn-block text-base font-medium normal-case";
					btn.onclick = () => checkAnswer(choice, btn, data);
					choicesDiv.appendChild(btn);
				});

				updateProgress();
			}

			function checkAnswer(choice, btn, data) {
				const allButtons = choicesDiv.querySelectorAll("button");
				allButtons.forEach((b) => (b.disabled = true));

				if (choice === data.answer) {
					btn.classList.remove("option-btn");
					btn.classList.add("correct");
					feedback.textContent = "✅ Correct!";
					feedback.className = "text-sm min-h-12 text-green-300 font-semibold";
					score++;
					createShootingStars(); // Create shooting stars for correct answer
				} else {
					btn.classList.remove("option-btn");
					btn.classList.add("incorrect");
					feedback.innerHTML = `❌ Incorrect.<br>Tip: ${data.explanation}`;
					feedback.className = "text-sm min-h-12 text-red-300";

					allButtons.forEach((b) => {
						if (b.textContent === data.answer) {
							b.classList.remove("option-btn");
							b.classList.add("correct");
						}
					});
				}

				scoreDisplay.textContent = `Score: ${score}`;
				nextBtn.classList.remove("hidden");
			}

			function updateProgress() {
				const progress = (index / questions.length) * 100;
				progressBar.style.width = `${progress}%`;
			}

			nextBtn.onclick = () => {
				index++;
				if (index < questions.length) {
					showQuestion();
				} else {
					endGame();
				}
			};

			function endGame() {
				questionBox.textContent = "🌟 Mission Complete!";
				choicesDiv.innerHTML = "";
				
				// Calculate performance message
				let performanceMsg = "";
				const percentage = (score / questions.length) * 100;
				if (percentage === 100) {
					performanceMsg = "Perfect score! You're a grammar master!";
				} else if (percentage >= 80) {
					performanceMsg = "Great job! Your grammar is excellent!";
				} else if (percentage >= 60) {
					performanceMsg = "Good effort! Keep practicing!";
				} else {
					performanceMsg = "Don't give up! Practice makes perfect!";
				}
				
				feedback.innerHTML = `
					<div class="text-center p-4 border border-blue-400 rounded-lg bg-space bg-opacity-70">
						<p class="text-lg font-bold text-blue-300">Your final score is <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">${score}</span> out of ${questions.length}</p>
						<p class="mt-2 text-blue-200">${performanceMsg}</p>
					</div>
				`;
				nextBtn.classList.add("hidden");
				restartBox.classList.remove("hidden");
				updateProgress();
				
				// Extra celebration for good scores
				if (percentage >= 70) {
					createShootingStars();
					setTimeout(createShootingStars, 2000);
				}
			}

			function restartGame() {
				index = 0;
				score = 0;
				restartBox.classList.add("hidden");
				scoreDisplay.textContent = "Score: 0";
				showQuestion();
			}
			
			// Initialize
			createStars();
			createShootingStars();
			showQuestion();
			
			// Recreate stars on window resize
			window.addEventListener('resize', () => {
				createStars();
				createShootingStars();
			});
			
			// Recreate shooting stars periodically
			setInterval(createShootingStars, 15000);
		</script>
	</body>
</html>