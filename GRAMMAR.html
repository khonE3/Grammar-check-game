<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Grammar Galaxy</title>
		<link
			href="https://cdn.jsdelivr.net/npm/daisyui@4.4.12/dist/full.css"
			rel="stylesheet"
			type="text/css"
		/>
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700&display=swap"
			rel="stylesheet"
		/>
		<style>
			/* ---- Base styles ---- */
			body {
				font-family: "Exo 2", sans-serif;
				background-color: #0c1445;
				margin: 0;
				padding: 0;
				min-height: 100vh;
				overflow-x: hidden;
				position: relative;
				display: flex;
				align-items: center;
				justify-content: center;
			}
			
			/* ---- Space Background with Stars (Fixed) ---- */
			body::before {
				content: "";
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: #0c1445;
				background-image: 
					radial-gradient(white, rgba(255, 255, 255, 0.2) 2px, transparent 40px),
					radial-gradient(white, rgba(255, 255, 255, 0.15) 1px, transparent 30px),
					radial-gradient(white, rgba(255, 255, 255, 0.1) 2px, transparent 40px),
					linear-gradient(45deg, #090d2a 0%, #170b47 50%, #0f0933 100%);
				background-size: 550px 550px, 350px 350px, 250px 250px, 100% 100%;
				background-position: 0 0, 40px 60px, 130px 270px, 0 0;
				z-index: -2;
				animation: space-shift 20s ease infinite alternate;
			}
			
			/* ---- Grid Effect ---- */
			body::after {
				content: "";
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: 
					linear-gradient(rgba(77, 131, 255, 0.05) 1px, transparent 1px),
					linear-gradient(90deg, rgba(77, 131, 255, 0.05) 1px, transparent 1px);
				background-size: 30px 30px;
				z-index: 5;
				animation: grid-move 20s linear infinite;
			}
			
			@keyframes space-shift {
				0% { background-position: 0 0, 40px 60px, 130px 270px, 0% 0%; }
				50% { background-position: 10px 30px, 50px 70px, 120px 260px, 100% 100%; }
				100% { background-position: 0 0, 40px 60px, 130px 270px, 0% 0%; }
			}
			
			@keyframes grid-move {
				0% { background-position: 0 0; }
				100% { background-position: 30px 30px; }
			}
			
			/* ---- Shooting stars ---- */
			.shooting-star {
				position: absolute;
				width: 150px;
				height: 2px;
				background: linear-gradient(to right, transparent, #ffffff, #4d83ff, transparent);
				animation: shooting 3s linear infinite;
				opacity: 0;
			}
			
			.shooting-star:nth-child(1) {
				top: 15%;
				left: 10%;
				animation-delay: 0s;
                transform: rotate(15deg);
			}
			
			.shooting-star:nth-child(2) {
				top: 35%;
				left: 5%;
				animation-delay: 4s;
                transform: rotate(25deg);
			}
			
			.shooting-star:nth-child(3) {
				top: 60%;
				left: 15%;
				animation-delay: 7s;
                transform: rotate(5deg);
			}
			
			.shooting-star:nth-child(4) {
				top: 20%;
				left: 75%;
				animation-delay: 2s;
                transform: rotate(-15deg);
			}
			
			.shooting-star:nth-child(5) {
				top: 70%;
				left: 65%;
				animation-delay: 9s;
                transform: rotate(-25deg);
			}
			
			@keyframes shooting {
				0% {
					opacity: 0;
					transform: translateX(-50px) rotate(var(--angle, 15deg));
				}
				10%, 40% {
					opacity: 1;
				}
				100% {
					opacity: 0;
					transform: translateX(calc(100vw + 50px)) rotate(var(--angle, 15deg));
				}
			}

			/* ---- Card and Button Styles ---- */
			.option-btn {
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
				border: 1px solid rgba(0, 212, 255, 0.3);
				background: rgba(12, 20, 69, 0.7);
				backdrop-filter: blur(5px);
				box-shadow: 0 4px 10px rgba(0, 212, 255, 0.2);
			}

			.option-btn::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(
					90deg,
					transparent,
					rgba(77, 131, 255, 0.3),
					transparent
				);
				transition: 0.5s;
			}

			.option-btn:hover {
				transform: translateY(-3px);
				border-color: rgba(0, 212, 255, 0.8);
				box-shadow: 0 6px 15px rgba(0, 212, 255, 0.3), 0 0 8px rgba(0, 212, 255, 0.5);
			}

			.option-btn:hover::before {
				left: 100%;
			}

			.progress-container {
				width: 100%;
				background-color: rgba(255, 255, 255, 0.1);
				border-radius: 999px;
				overflow: hidden;
				box-shadow: 0 0 10px rgba(0, 212, 255, 0.3) inset;
				position: relative;
			}

			.progress-bar {
				height: 8px;
				background: linear-gradient(90deg, #4d83ff, #00d4ff);
				border-radius: 999px;
				transition: width 0.8s cubic-bezier(0.25, 1, 0.5, 1);
				box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
				position: relative;
			}
			
			.progress-bar::after {
				content: '';
				position: absolute;
				top: 0;
				right: 0;
				height: 100%;
				width: 15px;
				background: rgba(255, 255, 255, 0.7);
				border-radius: 10px;
				filter: blur(3px);
				animation: pulse 1.5s infinite;
			}
			
			@keyframes pulse {
				0%, 100% { opacity: 0.7; }
				50% { opacity: 0.3; }
			}

			.card {
				background: rgba(18, 25, 63, 0.85);
				backdrop-filter: blur(10px);
				border: 1px solid rgba(77, 131, 255, 0.3);
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(77, 131, 255, 0.3);
				animation: float 6s ease-in-out infinite;
				transform-style: preserve-3d;
				z-index: 10;
			}
			
			@keyframes float {
				0%, 100% { transform: translateY(0); }
				50% { transform: translateY(-10px); }
			}

			.correct {
				background: rgba(5, 122, 85, 0.8);
				border: 1px solid rgba(72, 255, 144, 0.9);
				color: white;
				box-shadow: 0 0 15px rgba(72, 255, 144, 0.5);
				animation: correct-pulse 1s ease;
			}
			
			@keyframes correct-pulse {
				0% { transform: scale(1); }
				50% { transform: scale(1.05); }
				100% { transform: scale(1); }
			}

			.incorrect {
				background: rgba(176, 42, 55, 0.8);
				border: 1px solid rgba(255, 101, 101, 0.9);
				color: white;
				box-shadow: 0 0 15px rgba(255, 101, 101, 0.5);
				animation: incorrect-shake 0.5s ease;
			}
			
			@keyframes incorrect-shake {
				0%, 100% { transform: translateX(0); }
				20%, 60% { transform: translateX(-5px); }
				40%, 80% { transform: translateX(5px); }
			}

			.btn-primary {
				background: linear-gradient(135deg, #4d83ff, #00d4ff);
				border: none;
				position: relative;
				overflow: hidden;
				transition: all 0.3s ease;
				box-shadow: 0 0 15px rgba(77, 131, 255, 0.5);
			}

			.btn-primary:hover {
				background: linear-gradient(135deg, #3b64c5, #00c0e8);
				transform: translateY(-2px);
				box-shadow: 0 0 20px rgba(77, 131, 255, 0.7);
			}
			
			#questionBox {
				text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
				animation: question-appear 0.5s ease;
			}
			
			@keyframes question-appear {
				0% { opacity: 0; transform: translateY(-10px); }
				100% { opacity: 1; transform: translateY(0); }
			}
			
			#choices button {
				animation: choice-appear 0.5s ease forwards;
				opacity: 0;
			}
			
			#choices button:nth-child(1) { animation-delay: 0.1s; }
			#choices button:nth-child(2) { animation-delay: 0.2s; }
			#choices button:nth-child(3) { animation-delay: 0.3s; }
			#choices button:nth-child(4) { animation-delay: 0.4s; }
			
			@keyframes choice-appear {
				0% { opacity: 0; transform: translateX(-20px); }
				100% { opacity: 1; transform: translateX(0); }
			}
			
			#feedback {
				animation: feedback-appear 0.5s ease;
			}
			
			@keyframes feedback-appear {
				0% { opacity: 0; transform: scale(0.9); }
				100% { opacity: 1; transform: scale(1); }
			}
			
			.glow {
				text-shadow: 0 0 10px currentColor;
				position: relative;
			}
			
			.console-effect::before {
				content: '> ';
				color: #00d4ff;
			}
		</style>
	</head>
	<body>
		<!-- Fixed shooting stars - no JavaScript needed -->
		<div class="shooting-star"></div>
		<div class="shooting-star"></div>
		<div class="shooting-star"></div>
		<div class="shooting-star"></div>
		<div class="shooting-star"></div>
		
		<div class="w-full max-w-md card rounded-2xl shadow-xl p-6 space-y-6 text-white">
			<div class="text-center space-y-2">
				<h1 class="text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-300 text-transparent bg-clip-text glow">Grammar Galaxy 🚀</h1>
				<p class="text-sm text-blue-200 console-effect">Choose the correct sentence</p>
			</div>

			<div class="progress-container">
				<div id="progressBar" class="progress-bar" style="width: 0%"></div>
			</div>

			<div id="questionBox" class="text-lg font-semibold text-white mb-2"></div>

			<div id="choices" class="grid gap-4"></div>

			<div id="feedback" class="text-sm min-h-12"></div>

			<div class="flex justify-between items-center">
				<span id="score" class="text-xs text-blue-200">Score: 0</span>
				<button id="nextBtn" class="btn btn-primary btn-sm hidden">Next Question</button>
			</div>

			<div class="text-center mt-4 hidden" id="restartBox">
				<button
					onclick="restartGame()"
					class="btn btn-outline text-cyan-300 border-cyan-300 hover:bg-cyan-700 hover:border-cyan-300 btn-sm"
				>
					🔄 Play Again
				</button>
			</div>
		</div>

		<script>
			const questions = [
				{
					question: "Which sentence is grammatically correct?",
					choices: [
						"He don't like pizza.",
						"He doesn't likes pizza.",
						"He doesn't like pizza.",
						"He don't likes pizza.",
					],
					answer: "He doesn't like pizza.",
					explanation: "'He' requires 'doesn't' and base verb 'like'.",
				},
				{
					question: "Choose the correct sentence.",
					choices: [
						"She going to the market.",
						"She go to the market.",
						"She goes to the market.",
						"She gone to the market.",
					],
					answer: "She goes to the market.",
					explanation: "'She' uses 'goes' in present simple.",
				},
				{
					question: "Select the correct form:",
					choices: [
						"I has a car.",
						"I have a car.",
						"I having a car.",
						"I had a car now.",
					],
					answer: "I have a car.",
					explanation: "'I' takes 'have' in present simple.",
				},
				{
					question: "Which is correct?",
					choices: [
						"They is happy.",
						"They are happy.",
						"They am happy.",
						"They be happy.",
					],
					answer: "They are happy.",
					explanation: "'They' uses 'are' as the correct verb.",
				},
				{
					question: "Pick the correct sentence:",
					choices: [
						"We was playing football.",
						"We were playing football.",
						"We playing football.",
						"We has played football.",
					],
					answer: "We were playing football.",
					explanation: "'We' uses 'were' in past continuous.",
				},
				{
					question: "Which sentence is right?",
					choices: [
						"He didn't went to school.",
						"He doesn't went to school.",
						"He didn't go to school.",
						"He don't go to school.",
					],
					answer: "He didn't go to school.",
					explanation: "After 'didn't', use base verb 'go'.",
				},
				{
					question: "Choose the correct one:",
					choices: [
						"It's cold, isn't it?",
						"It's cold, isn't he?",
						"It's cold, is it?",
						"It's cold, is he?",
					],
					answer: "It's cold, isn't it?",
					explanation: "Use 'isn't it' for weather/neutral statements.",
				},
				{
					question: "Which is grammatically correct?",
					choices: [
						"Neither of them are ready.",
						"Neither of them is ready.",
						"Neither are them ready.",
						"Neither them is ready.",
					],
					answer: "Neither of them is ready.",
					explanation: "'Neither' takes singular verb 'is'.",
				},
				{
					question: "Choose the best sentence:",
					choices: [
						"She can sings well.",
						"She cans sing well.",
						"She can sing well.",
						"She can singing well.",
					],
					answer: "She can sing well.",
					explanation: "Modal verbs take base verb without -s.",
				},
				{
					question: "Pick the correct sentence:",
					choices: [
						"I am agree with you.",
						"I agree with you.",
						"I agrees with you.",
						"I am agreeing with you.",
					],
					answer: "I agree with you.",
					explanation: "'Agree' is a stative verb, no need for 'am'.",
				},
			];

			const questionBox = document.getElementById("questionBox");
			const choicesDiv = document.getElementById("choices");
			const feedback = document.getElementById("feedback");
			const nextBtn = document.getElementById("nextBtn");
			const scoreDisplay = document.getElementById("score");
			const progressBar = document.getElementById("progressBar");
			const restartBox = document.getElementById("restartBox");

			let score = 0;
			let index = 0;

			function showQuestion() {
				const data = questions[index];
				questionBox.textContent = `${index + 1}. ${data.question}`;
				feedback.textContent = "";
				feedback.className = "text-sm min-h-12";
				nextBtn.classList.add("hidden");

				choicesDiv.innerHTML = "";
				data.choices.forEach((choice) => {
					const btn = document.createElement("button");
					btn.textContent = choice;
					btn.className =
						"btn option-btn btn-block text-base font-medium normal-case";
					btn.onclick = () => checkAnswer(choice, btn, data);
					choicesDiv.appendChild(btn);
				});

				updateProgress();
			}

			function checkAnswer(choice, btn, data) {
				const allButtons = choicesDiv.querySelectorAll("button");
				allButtons.forEach((b) => (b.disabled = true));

				if (choice === data.answer) {
					btn.classList.remove("option-btn");
					btn.classList.add("correct");
					feedback.textContent = "✅ Correct!";
					feedback.className = "text-sm min-h-12 text-green-300 font-semibold";
					score++;
				} else {
					btn.classList.remove("option-btn");
					btn.classList.add("incorrect");
					feedback.innerHTML = `❌ Incorrect.<br>Tip: ${data.explanation}`;
					feedback.className = "text-sm min-h-12 text-red-300";

					allButtons.forEach((b) => {
						if (b.textContent === data.answer) {
							b.classList.remove("option-btn");
							b.classList.add("correct");
						}
					});
				}

				scoreDisplay.textContent = `Score: ${score}`;
				nextBtn.classList.remove("hidden");
			}

			function updateProgress() {
				const progress = (index / questions.length) * 100;
				progressBar.style.width = `${progress}%`;
			}

			nextBtn.onclick = () => {
				index++;
				if (index < questions.length) {
					showQuestion();
				} else {
					endGame();
				}
			};

			function endGame() {
				questionBox.textContent = "🌟 Mission Complete!";
				choicesDiv.innerHTML = "";
				
				// Calculate performance message
				let performanceMsg = "";
				const percentage = (score / questions.length) * 100;
				if (percentage === 100) {
					performanceMsg = "Perfect score! You're a grammar master!";
				} else if (percentage >= 80) {
					performanceMsg = "Great job! Your grammar is excellent!";
				} else if (percentage >= 60) {
					performanceMsg = "Good effort! Keep practicing!";
				} else {
					performanceMsg = "Don't give up! Practice makes perfect!";
				}
				
				feedback.innerHTML = `
					<div class="text-center p-4 border border-blue-400 rounded-lg bg-opacity-70" style="background-color: rgba(12, 20, 69, 0.7);">
						<p class="text-lg font-bold text-blue-300">Your final score is <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300">${score}</span> out of ${questions.length}</p>
						<p class="mt-2 text-blue-200">${performanceMsg}</p>
					</div>
				`;
				nextBtn.classList.add("hidden");
				restartBox.classList.remove("hidden");
				updateProgress();
			}

			function restartGame() {
				index = 0;
				score = 0;
				restartBox.classList.add("hidden");
				scoreDisplay.textContent = "Score: 0";
				showQuestion();
			}
			
			// Start the game
			showQuestion();
		</script>
	</body>
</html>